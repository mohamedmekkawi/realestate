{% extends "master.html.twig" %}
{% block title %}Property list{% endblock %}

{% block headextra %}
    <script>
        var currentPage = {{currentPage}};
        function loadPage(page) {
            $('#btPage' + currentPage).removeClass("currentPageButton");
            currentPage = page;
            $('#btPage' + currentPage).addClass("currentPageButton");
            $('#itemsView').load("/ajax/newproducts/" + page);
            window.history.pushState("", "Property list", "/newprperties/" + page);
        }
    </script>
{% endblock %}

{% block content %} 
    <div id="itemsView">
        <table border="1">
            <tr><th>PropertyId</th><th>Title</th><th>Property Type</th><th>Bath</th>
            <th>Parking</th><th>Price</th><th>Squre Feet</th><th>Description</th>
            <th>Image</th><th>operations</th></tr>
                {% for p in popertyList %}
            <tr>
                <td>{{p.propertyType}}</td>
                <td>{{p.room}}</td>
                <td>{{p.bath}}</td>
                <td>{{p.parking}}</td>
                <td>{{p.price}}</td>
                <td>{{p.squreFeet}}</td>
                <td>{{p.description}}</td>
                <td><img src="{{p.imagePath}}"  width="100"></td>

            </tr>
                {% endfor %}
        </table>
    </div>

    <div class="paginationContainer">
        {% for page in range(1,maxPages) %}
            <button class="{% if page == currentPage %}currentPageButton{% endif %}"
                    id="btPage{{page}}" onclick="loadPage({{page}});">{{page}}</button>
        {% endfor %}
    </div>


{% endblock %}

